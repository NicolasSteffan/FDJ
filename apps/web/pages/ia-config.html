<h1><span class="tirage-led"></span> Configuration IA</h1>

<!-- Section OpenAI/ChatGPT -->
<div class="gains-section tirage-tag collapsed" id="openai-section">
  <div class="gains-header tirage-tag-header" onclick="toggleTirageTag('openai-section')">
    <h3><span class="led_generique_petite collapsed" id="openai-led"></span>OpenAI / ChatGPT</h3>
    <span class="tirage-expand-arrow">▼</span>
  </div>
  <div class="tirage-tag-content" id="openaiContent">
    
    <!-- Clé API -->
    <div class="config-group" style="margin-bottom: 20px;">
      <h4>Clé API</h4>
      <div class="api-key-container" style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
        <input type="password" id="openaiApiKey" placeholder="sk-..." 
               style="flex: 1; padding: 8px; border: 1px solid #9b59b6; border-radius: 5px; background: rgba(155, 89, 182, 0.1); color: #ecf0f1;"
               onchange="saveApiKey('openai', 'openaiApiKey')"
               oninput="saveApiKey('openai', 'openaiApiKey')">
        <button onclick="toggleApiKeyVisibility('openaiApiKey')" class="btn-generic" style="min-width: 80px;">
          Voir
        </button>
      </div>
      <p style="font-size: 12px; color: #95a5a6; margin-bottom: 15px;">
        Obtenez votre clé API sur <a href="https://platform.openai.com/api-keys" target="_blank" style="color: #3498db;">platform.openai.com</a>
      </p>
    </div>

    <!-- Configuration -->
    <div class="config-group" style="margin-bottom: 20px;">
      <h4>Configuration</h4>
      <div>
        <label style="display: block; margin-bottom: 5px; color: #ecf0f1;">Modèle:</label>
        <select id="openaiModel" class="btn-generic" style="width: 100%; text-align: left;" 
                onchange="saveApiModel('openai', this.value)">
          <option value="gpt-4o">GPT-4o (Recommandé)</option>
          <option value="gpt-4o-mini">GPT-4o Mini</option>
          <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
        </select>
      </div>
    </div>

    <!-- Test de connexion -->
    <div class="config-group" style="margin-bottom: 20px;">
      <h4>Test de connexion</h4>
      <button onclick="testOpenAIConnection()" class="btn-generic">
        Tester la connexion
      </button>
      <div id="openaiTestResult" style="margin-top: 10px; padding: 10px; border-radius: 4px; display: none;">
        <!-- Résultat du test -->
      </div>
    </div>
  </div>
</div>

<!-- Section Claude/Anthropic -->
<div class="gains-section tirage-tag collapsed" id="claude-section">
  <div class="gains-header tirage-tag-header" onclick="toggleTirageTag('claude-section')">
    <h3><span class="led_generique_petite collapsed" id="claude-led"></span>Claude / Anthropic</h3>
    <span class="tirage-expand-arrow">▼</span>
  </div>
  <div class="tirage-tag-content" id="claudeContent">
    
    <!-- Clé API -->
    <div class="config-group" style="margin-bottom: 20px;">
      <h4>Clé API</h4>
      <div class="api-key-container" style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
        <input type="password" id="claudeApiKey" placeholder="sk-ant-..." 
               style="flex: 1; padding: 8px; border: 1px solid #9b59b6; border-radius: 5px; background: rgba(155, 89, 182, 0.1); color: #ecf0f1;"
               onchange="saveApiKey('claude', 'claudeApiKey')"
               oninput="saveApiKey('claude', 'claudeApiKey')">
        <button onclick="toggleApiKeyVisibility('claudeApiKey')" class="btn-generic" style="min-width: 80px;">
          Voir
        </button>
      </div>
      <p style="font-size: 12px; color: #95a5a6; margin-bottom: 15px;">
        Obtenez votre clé API sur <a href="https://console.anthropic.com/" target="_blank" style="color: #3498db;">console.anthropic.com</a>
      </p>
    </div>

    <!-- Configuration -->
    <div class="config-group" style="margin-bottom: 20px;">
      <h4>Configuration</h4>
      <div>
        <label style="display: block; margin-bottom: 5px; color: #ecf0f1;">Modèle:</label>
        <select id="claudeModel" class="btn-generic" style="width: 100%; text-align: left;" 
                onchange="saveApiModel('claude', this.value)">
          <option value="claude-3-5-sonnet-20241022">Claude 3.5 Sonnet (Recommandé)</option>
          <option value="claude-3-5-haiku-20241022">Claude 3.5 Haiku</option>
          <option value="claude-3-opus-20240229">Claude 3 Opus</option>
        </select>
      </div>
    </div>

    <!-- Test de connexion -->
    <div class="config-group" style="margin-bottom: 20px;">
      <h4>Test de connexion</h4>
      <button onclick="testClaudeConnection()" class="btn-generic">
        Tester la connexion
      </button>
      <div id="claudeTestResult" style="margin-top: 10px; padding: 10px; border-radius: 4px; display: none;">
        <!-- Résultat du test -->
      </div>
    </div>
  </div>
</div>

<!-- Section Mistral AI -->
<div class="gains-section tirage-tag collapsed" id="mistral-section">
  <div class="gains-header tirage-tag-header" onclick="toggleTirageTag('mistral-section')">
    <h3><span class="led_generique_petite collapsed" id="mistral-led"></span>Mistral AI</h3>
    <span class="tirage-expand-arrow">▼</span>
  </div>
  <div class="tirage-tag-content" id="mistralContent">
    
    <!-- Clé API -->
    <div class="config-group" style="margin-bottom: 20px;">
      <h4>Clé API</h4>
      <div class="api-key-container" style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
        <input type="password" id="mistralApiKey" placeholder="..." 
               style="flex: 1; padding: 8px; border: 1px solid #9b59b6; border-radius: 5px; background: rgba(155, 89, 182, 0.1); color: #ecf0f1;"
               onchange="saveApiKey('mistral', 'mistralApiKey')"
               oninput="saveApiKey('mistral', 'mistralApiKey')">
        <button onclick="toggleApiKeyVisibility('mistralApiKey')" class="btn-generic" style="min-width: 80px;">
          Voir
        </button>
      </div>
      <p style="font-size: 12px; color: #95a5a6; margin-bottom: 15px;">
        Obtenez votre clé API sur <a href="https://console.mistral.ai/" target="_blank" style="color: #3498db;">console.mistral.ai</a>
      </p>
    </div>

    <!-- Configuration -->
    <div class="config-group" style="margin-bottom: 20px;">
      <h4>Configuration</h4>
      <div>
        <label style="display: block; margin-bottom: 5px; color: #ecf0f1;">Modèle:</label>
        <select id="mistralModel" class="btn-generic" style="width: 100%; text-align: left;" 
                onchange="saveApiModel('mistral', this.value)">
          <option value="mistral-large-latest">Mistral Large</option>
          <option value="mistral-medium-latest">Mistral Medium</option>
          <option value="mistral-small-latest">Mistral Small</option>
          <option value="mistral-3b-latest">Mistral 3B</option>
        </select>
      </div>
    </div>

    <!-- Test de connexion -->
    <div class="config-group" style="margin-bottom: 20px;">
      <h4>Test de connexion</h4>
      <button onclick="testMistralConnection()" class="btn-generic">
        Tester la connexion
      </button>
      <div id="mistralTestResult" style="margin-top: 10px; padding: 10px; border-radius: 4px; display: none;">
        <!-- Résultat du test -->
      </div>
    </div>
  </div>
</div>

<!-- Section Questions EuroMillions -->
<div class="gains-section tirage-tag collapsed" id="euromillions-section">
  <div class="gains-header tirage-tag-header" onclick="toggleTirageTag('euromillions-section')">
    <h3><span class="led_generique_petite collapsed" id="euromillions-led"></span>Questions EuroMillions</h3>
    <span class="tirage-expand-arrow">▼</span>
  </div>
  <div class="tirage-tag-content" id="euromillionsContent">
    
    <div class="config-group" style="margin-bottom: 20px;">
      <h4>Questions prédéfinies</h4>
      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
        <button onclick="askPredefinedQuestion('prediction')" class="btn-generic">
          Prédiction du prochain tirage
        </button>
        <button onclick="askPredefinedQuestion('analysis')" class="btn-generic">
          Analyse des tendances
        </button>
        <button onclick="askPredefinedQuestion('statistics')" class="btn-generic">
          Statistiques avancées
        </button>
        <button onclick="askPredefinedQuestion('patterns')" class="btn-generic">
          Recherche de motifs
        </button>
      </div>
    </div>

    <div class="config-group" style="margin-bottom: 20px;">
      <h4>Question personnalisée</h4>
      <textarea id="customQuestion" placeholder="Posez votre question sur les données EuroMillions..." 
                style="width: 100%; height: 80px; padding: 8px; border: 1px solid #666; border-radius: 4px; background: #2a2a2a; color: #fff; resize: vertical; font-family: inherit;"></textarea>
      <button onclick="askCustomQuestion()" class="btn-generic" style="margin-top: 10px;">
        Poser la question
      </button>
    </div>

    <div id="aiResponse" style="margin-top: 20px; padding: 15px; border: 1px solid #444; border-radius: 5px; background: #1a1a1a; font-family: monospace; font-size: 12px; display: none;">
      <!-- Réponse de l'IA -->
    </div>
  </div>
</div>
